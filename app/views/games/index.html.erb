<!-- app/views/games/index.html.erb -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-800"><%= t('games.index.title') %></h1>
    <%= link_to t('games.index.new_game'), new_game_path(locale: I18n.locale), 
                class: "rounded-md bg-emerald-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600" %>
  </div>

  <div class="bg-white shadow overflow-hidden sm:rounded-lg">
    <ul class="divide-y divide-gray-200">
      <% @games.each do |game| %>
        <li class="px-4 py-4 sm:px-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <% if game.logo.attached? %>
                <%= image_tag game.logo.variant(resize_to_limit: [50, 50]), class: "h-10 w-10 rounded-full object-cover" %>
              <% end %>
              <div>
                <p class="text-sm font-medium text-emerald-600 truncate"><%= game.name %></p>
                <p class="text-sm text-gray-500"><%= game.code %></p>
              </div>
            </div>
            <div class="flex space-x-2">
              <%= link_to t('games.index.show'), game_path(game, locale: I18n.locale), 
                          class: "rounded-md px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200" %>
              <%= link_to t('games.index.edit'), edit_game_path(game, locale: I18n.locale), 
                          class: "rounded-md px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200" %>
              <%= link_to t('games.index.export_players'), export_players_game_path(game, locale: I18n.locale, format: :xlsx), 
                          class: "rounded-md px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-500" %>
              <%= button_to t('games.index.destroy'), game_path(game, locale: I18n.locale), 
                          method: :delete, 
                          class: "rounded-md px-3 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-500", 
                          data: { turbo_confirm: t('games.index.confirm_destroy') } %>
            </div>
          </div>
        </li>
      <% end %>
    </ul>
  </div>
</div>
